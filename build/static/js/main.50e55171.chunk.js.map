{"version":3,"sources":["Main.js","Header.js","Filter.jsx","Aside.js","App.js","serviceWorker.js","index.js"],"names":["Main","props","errorMsg","error","imageCount","images","length","sidebarClass","usernameQuery","imageList","map","image","key","imageUrl","id","alt","executedQuery","className","src","username","href","title","data-username","onClick","e","handleUsernameClick","Header","handleSubmit","htmlFor","type","value","inputValue","onChange","handleInput","Filter","limit","handleLimitChange","rating","handleRatingChange","language","handleLangChange","Aside","state","process","prevProps","this","queryError","api","baseUrl","lang","query","url","fetch","then","response","status","json","Error","statusText","jsonResults","data","item","setState","catch","console","log","handleUsernameResetClick","React","Component","App","bind","preventDefault","target","dataset","Object","assign","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.50e55171.chunk.js","sourcesContent":["import React from 'react';\nimport './main.css';\n\nfunction Main(props) {\n\n    const errorMsg = props.error;\n    const imageCount = props.images.length;\n    const sidebarClass = props.usernameQuery.length ? 'hasSidebar' : '';\n\n    // error message found\n    if ( errorMsg !== '') {\n        return (\n            <main>\n                <p>Error: { props.error }</p>\n            </main>\n        )\n    }\n\n    // no images found\n    if ( imageCount === 0) {\n        return (\n            <main>\n                <p>No giphies yet! Search for something interesting above.</p>\n            </main>\n        )\n    }\n\n    // we have images and no errors. Wahoo!\n    const imageList = props.images.map( (image, key) => {\n\n        const imageUrl = `https://i.giphy.com/media/${image.id}/100.gif`;\n        const alt = `giphy from search phase: ${props.executedQuery}`;\n        return (\n            <div key={\"div\"+key} className=\"imageBox\">\n                <img key={key} src={imageUrl} alt={alt} />\n                { image.username.length ? \n                    (<p key={\"a\"+key}><a \n                        href=\"/\" \n                        title=\"See more by this creator\"\n                        data-username={ image.username }\n                        onClick={ (e)=>props.handleUsernameClick(e) }\n                        >\n                        { image.username }</a></p>)  : \n                    (<p className=\"anonymous\" key={\"b\"+key}>No attribution</p>) }\n            </div>\n        );\n    });\n\n    return (\n        <main className={sidebarClass}>\n            <p>Your Giphy search for \"{props.executedQuery}\" returned {imageCount} results.</p>\n            {imageList}\n        </main>\n    );\n\n}\n\nexport default Main;","import React from 'react';\nimport './header.css';\n\nfunction Header(props) {\n\n    return (\n\n        <header className=\"App-header\">\n            <h1>Giphy Madness!</h1>\n            <form onClick={props.handleSubmit}>\n\n                <label htmlFor=\"queryInput\">\n                    Search: \n                </label>\n\n                <input \n                type=\"text\" \n                id=\"queryInput\"\n                value={props.inputValue}\n                onChange={props.handleInput} \n                /> \n\n                <input\n                type=\"submit\"\n                value=\"Submit\"\n                className=\"submit_btn\"\n                />          \n                \n            </form>\n        </header>\n    );\n\n}\n\nexport default Header;","import React from 'react';\nimport './filter.css';\n\nfunction Filter(props) {\n\n    return (\n        <section className=\"filterContainer\">\n            <div className=\"filter\">\n                <div>\n                    <label htmlFor=\"limit\">Limit:</label> \n                    <select value={props.limit} onChange={props.handleLimitChange} id=\"limit\">\n                        <option value=\"5\">5</option>\n                        <option value=\"10\">10</option>\n                        <option value=\"25\">25</option>\n                        <option value=\"50\">50</option>\n                    </select>\n                </div>  \n                <div>\n                    <label htmlFor=\"rating\">Rating:</label> \n                    <select value={props.rating} onChange={props.handleRatingChange} id=\"rating\">\n                        <option value=\"G\">G</option>\n                        <option value=\"PG\">PG</option>\n                        <option value=\"PG-13\">PG-13</option>\n                        <option value=\"R\">R</option>\n                    </select>\n                </div>            \n                <div>\n                    <label htmlFor=\"language\">Language:</label> \n                    <select value={props.language} onChange={props.handleLangChange} id=\"language\">\n                        <option value=\"en\">English</option>\n                        <option value=\"fr\">French</option>\n                        <option value=\"de\">German</option>\n                        <option value=\"Russian\">Russian</option>\n                    </select>\n                </div>\n            </div>\n        </section>\n    );\n}\n\nexport default Filter;","import React from 'react';\nimport './aside.css';\n\nclass Aside extends React.Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            \"query\": \"\",\n            \"queryError\": \"\",\n            \"executedQuery\": \"\",\n            \"images\": [],\n            \"api\": {\n              \"key\": process.env.REACT_APP_API_KEY,\n              \"baseUrl\": \"https://api.giphy.com/v1/gifs/search\",\n              \"limit\": 5,\n              \"rating\": \"G\",\n              \"lang\": \"en\"\n            }\n        };\n    }\n\n    componentDidUpdate(prevProps) {\n        // Typical usage (don't forget to compare props):\n        if (this.props.usernameQuery !== prevProps.usernameQuery && this.props.usernameQuery !== '') {\n\n                // set query parameters and reset error message\n            let queryError = '';\n            const { key, baseUrl, rating, lang } = this.props.api;\n            const limit = 5;\n            const query = `@${this.props.usernameQuery}`;\n            const url = `${baseUrl}?api_key=${key}&q=${query}&limit=${limit}&offset=0&rating=${rating}&lang=${lang}`\n          \n            // request the giphies\n            fetch(url)\n            .then(response => {\n\n                if (response.status >= 200 && response.status <= 299) {\n                    return response.json();\n                } else {\n                    throw Error(response.statusText);\n                }\n\n            }).then(jsonResults => {\n\n                // get image id to build image tags later\n                const images = jsonResults.data.map( (item) => {\n                    return { \"id\": item.id, \"username\": item.username };\n                });\n\n                this.setState({ \n                    images, \n                    \"executedQuery\": query,\n                    \"query\": '',\n                    queryError \n                });\n\n            }).catch( (error) => {\n\n                // log your error. Don't do console.log, of course.\n                console.log(error);\n\n                // tell the user\n                queryError = \"There was a problem with your query. Please try again.\";\n                \n                this.setState({ \n                    \"executedQuery\": query,\n                    \"query\": '',\n                    queryError \n                });\n            });      \n        }\n      }\n\n\n    render() {\n        this.sidebarClass = this.props.usernameQuery.length ? 'hasSidebar' : '';\n\n        const imageList = this.state.images.map( (image, key) => {\n\n            const imageUrl = `https://i.giphy.com/media/${image.id}/100.gif`;\n\n            return (\n                <img key={key} src={imageUrl} alt=\"giphy\" />\n            );\n        });\n\n        return (\n            <aside className={this.sidebarClass}>\n                <a href=\"/\" className=\"closeBox\" onClick={(e)=>this.props.handleUsernameResetClick(e)}>X</a>\n                <h2>Giphies by {this.props.usernameQuery}</h2>\n                {imageList}\n            </aside>\n        );\n    }\n}\n\nexport default Aside;","import React from 'react';\nimport Main from './Main';\nimport Header from './Header';\nimport Filter from './Filter';\nimport Aside from './Aside';\nimport './App.css';\n\n\nclass App extends React.Component {\n\n  constructor(props) {\n    console.log(process.env);\n    super(props);\n    // \n    this.state = {\n      \"query\": \"\",\n      \"queryError\": \"\",\n      \"executedQuery\": \"\",\n      \"images\": [],\n      \"api\": {\n        \"key\": process.env.REACT_APP_API_KEY,\n        \"baseUrl\": \"https://api.giphy.com/v1/gifs/search\",\n        \"limit\": 5,\n        \"rating\": \"G\",\n        \"lang\": \"en\"\n      },\n      usernameQuery: \"\"\n    };\n\n    this.handleInput = this.handleInput.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleLimitChange = this.handleLimitChange.bind(this);\n    this.handleLangChange = this.handleLangChange.bind(this);\n    this.handleRatingChange = this.handleRatingChange.bind(this);\n    this.handleUsernameClick = this.handleUsernameClick.bind(this);\n    this.handleUsernameResetClick = this.handleUsernameResetClick.bind(this);\n  }\n\n  handleUsernameClick(e) {\n    e.preventDefault();\n    this.setState({ \"usernameQuery\": e.target.dataset.username });\n  }\n\n  handleUsernameResetClick(e) {\n    e.preventDefault();\n    console.log('clicked');\n    this.setState({ \"usernameQuery\": '' });\n  }\n\n  handleLimitChange(e) {\n    let api = Object.assign({}, this.state.api);\n    api.limit = e.target.value;\n    this.setState({\"api\": api});\n  }\n\n  handleLangChange(e) {\n    let api = Object.assign({}, this.state.api);\n    api.lang = e.target.value;\n    this.setState({\"api\": api});\n  }\n\n  handleRatingChange(e) {\n    let api = Object.assign({}, this.state.api);\n    api.rating = e.target.value;\n    this.setState({\"api\": api});  \n  }\n\n  handleInput(e) {\n    const query = e.target.value;\n    this.setState({ query });\n  }\n\n  handleSubmit(e) {\n\n    // stop form from submitting, which would reload page\n    e.preventDefault();\n    \n    // ignore empty submissions\n    if (this.state.query.length === 0) {\n      return;\n    }\n    // reset images\n    this.setState({ \"images\": [] });\n\n    // set query parameters and reset error message\n    let queryError = '';\n    const { key, baseUrl, limit, rating, lang } = this.state.api;\n    const query = this.state.query;\n    const url = `${baseUrl}?api_key=${key}&q=${query}&limit=${limit}&offset=0&rating=${rating}&lang=${lang}`\n\n    // request the giphies\n    fetch(url)\n    .then(response => {\n\n      if (response.status >= 200 && response.status <= 299) {\n        return response.json();\n      } else {\n        throw Error(response.statusText);\n      }\n\n    }).then(jsonResults => {\n\n      // get image id to build image tags later\n      const images = jsonResults.data.map( (item) => {\n        return { \"id\": item.id, \"username\": item.username };\n      });\n\n      this.setState({ \n        images, \n        \"executedQuery\": query,\n        \"query\": '',\n        queryError \n      });\n\n    }).catch( (error) => {\n\n      // log your error. Don't do console.log, of course.\n      console.log(error);\n\n      // tell the user\n      queryError = \"There was a problem with your query. Please try again.\";\n      \n      this.setState({ \n        \"executedQuery\": query,\n        \"query\": '',\n        queryError \n      });\n    });\n  }\n  \n  render() {\n    \n    return (\n      <div className=\"App\">\n        <Header \n          handleInput={this.handleInput} \n          handleSubmit={this.handleSubmit}\n          inputValue={this.state.query}\n        />\n        <Filter \n          handleLimitChange={this.handleLimitChange}\n          handleLangChange={this.handleLangChange}\n          handleRatingChange={this.handleRatingChange}\n        />\n        <section>\n          <Main \n            images={this.state.images} \n            executedQuery={this.state.executedQuery}\n            error={this.state.queryError}\n            usernameQuery={this.state.usernameQuery}\n            handleUsernameClick={this.handleUsernameClick}\n          />\n          <Aside \n            api={this.state.api}\n            usernameQuery={this.state.usernameQuery} \n            handleUsernameResetClick={this.handleUsernameResetClick}\n          />\n        </section>\n\n      </div>\n    );\n  }\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}