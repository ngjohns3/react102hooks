(this["webpackJsonpreact-102"]=this["webpackJsonpreact-102"]||[]).push([[0],[,,,,,,,,,function(e,a,t){e.exports=t(20)},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(8),l=t.n(i),s=(t(14),t(2)),u=t(3),c=t(6),o=t(4),h=t(1),m=t(5);t(15);var d=function(e){var a=e.error,t=e.images.length,n=e.usernameQuery.length?"hasSidebar":"";if(""!==a)return r.a.createElement("main",null,r.a.createElement("p",null,"Error: ",e.error));if(0===t)return r.a.createElement("main",null,r.a.createElement("p",null,"No giphies yet! Search for something interesting above."));var i=e.images.map((function(a,t){var n="https://i.giphy.com/media/".concat(a.id,"/100.gif"),i="giphy from search phase: ".concat(e.executedQuery);return r.a.createElement("div",{key:"div"+t,className:"imageBox"},r.a.createElement("img",{key:t,src:n,alt:i}),a.username.length?r.a.createElement("p",{key:"a"+t},r.a.createElement("a",{href:"/",title:"See more by this creator","data-username":a.username,onClick:function(a){return e.handleUsernameClick(a)}},a.username)):r.a.createElement("p",{className:"anonymous",key:"b"+t},"No attribution"))}));return r.a.createElement("main",{className:n},r.a.createElement("p",null,'Your Giphy search for "',e.executedQuery,'" returned ',t," results."),i)};t(16);var g=function(e){return r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Giphy Madness!"),r.a.createElement("form",{onClick:e.handleSubmit},r.a.createElement("label",{htmlFor:"queryInput"},"Search:"),r.a.createElement("input",{type:"text",id:"queryInput",value:e.inputValue,onChange:e.handleInput}),r.a.createElement("input",{type:"submit",value:"Submit",className:"submit_btn"})))};t(17);var p=function(e){return r.a.createElement("section",{className:"filterContainer"},r.a.createElement("div",{className:"filter"},r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"limit"},"Limit:"),r.a.createElement("select",{value:e.limit,onChange:e.handleLimitChange,id:"limit"},r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"25"},"25"),r.a.createElement("option",{value:"50"},"50"))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"rating"},"Rating:"),r.a.createElement("select",{value:e.rating,onChange:e.handleRatingChange,id:"rating"},r.a.createElement("option",{value:"G"},"G"),r.a.createElement("option",{value:"PG"},"PG"),r.a.createElement("option",{value:"PG-13"},"PG-13"),r.a.createElement("option",{value:"R"},"R"))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"language"},"Language:"),r.a.createElement("select",{value:e.language,onChange:e.handleLangChange,id:"language"},r.a.createElement("option",{value:"en"},"English"),r.a.createElement("option",{value:"fr"},"French"),r.a.createElement("option",{value:"de"},"German"),r.a.createElement("option",{value:"Russian"},"Russian")))))},y=(t(18),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(c.a)(this,Object(o.a)(a).call(this,e))).state={query:"",queryError:"",executedQuery:"",images:[],api:{key:"BqnQXS5pPdROPIUiaHIAKMNBd7roCny7",baseUrl:"https://api.giphy.com/v1/gifs/search",limit:5,rating:"G",lang:"en"}},t}return Object(m.a)(a,e),Object(u.a)(a,[{key:"componentDidUpdate",value:function(e){var a=this;if(this.props.usernameQuery!==e.usernameQuery&&""!==this.props.usernameQuery){var t="",n=this.props.api,r=n.key,i=n.baseUrl,l=n.rating,s=n.lang,u="@".concat(this.props.usernameQuery),c="".concat(i,"?api_key=").concat(r,"&q=").concat(u,"&limit=").concat(5,"&offset=0&rating=").concat(l,"&lang=").concat(s);fetch(c).then((function(e){if(e.status>=200&&e.status<=299)return e.json();throw Error(e.statusText)})).then((function(e){var n=e.data.map((function(e){return{id:e.id,username:e.username}}));a.setState({images:n,executedQuery:u,query:"",queryError:t})})).catch((function(e){console.log(e),t="There was a problem with your query. Please try again.",a.setState({executedQuery:u,query:"",queryError:t})}))}}},{key:"render",value:function(){var e=this;this.sidebarClass=this.props.usernameQuery.length?"hasSidebar":"";var a=this.state.images.map((function(e,a){var t="https://i.giphy.com/media/".concat(e.id,"/100.gif");return r.a.createElement("img",{key:a,src:t,alt:"giphy"})}));return r.a.createElement("aside",{className:this.sidebarClass},r.a.createElement("a",{href:"/",className:"closeBox",onClick:function(a){return e.props.handleUsernameResetClick(a)}},"X"),r.a.createElement("h2",null,"Giphies by ",this.props.usernameQuery),a)}}]),a}(r.a.Component)),v=(t(19),function(e){function a(e){var t;return Object(s.a)(this,a),console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_API_KEY:"BqnQXS5pPdROPIUiaHIAKMNBd7roCny7"})),(t=Object(c.a)(this,Object(o.a)(a).call(this,e))).state={query:"",queryError:"",executedQuery:"",images:[],api:{key:"BqnQXS5pPdROPIUiaHIAKMNBd7roCny7",baseUrl:"https://api.giphy.com/v1/gifs/search",limit:5,rating:"G",lang:"en"},usernameQuery:""},t.handleInput=t.handleInput.bind(Object(h.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(h.a)(t)),t.handleLimitChange=t.handleLimitChange.bind(Object(h.a)(t)),t.handleLangChange=t.handleLangChange.bind(Object(h.a)(t)),t.handleRatingChange=t.handleRatingChange.bind(Object(h.a)(t)),t.handleUsernameClick=t.handleUsernameClick.bind(Object(h.a)(t)),t.handleUsernameResetClick=t.handleUsernameResetClick.bind(Object(h.a)(t)),t}return Object(m.a)(a,e),Object(u.a)(a,[{key:"handleUsernameClick",value:function(e){e.preventDefault(),this.setState({usernameQuery:e.target.dataset.username})}},{key:"handleUsernameResetClick",value:function(e){e.preventDefault(),console.log("clicked"),this.setState({usernameQuery:""})}},{key:"handleLimitChange",value:function(e){var a=Object.assign({},this.state.api);a.limit=e.target.value,this.setState({api:a})}},{key:"handleLangChange",value:function(e){var a=Object.assign({},this.state.api);a.lang=e.target.value,this.setState({api:a})}},{key:"handleRatingChange",value:function(e){var a=Object.assign({},this.state.api);a.rating=e.target.value,this.setState({api:a})}},{key:"handleInput",value:function(e){var a=e.target.value;this.setState({query:a})}},{key:"handleSubmit",value:function(e){var a=this;if(e.preventDefault(),0!==this.state.query.length){this.setState({images:[]});var t="",n=this.state.api,r=n.key,i=n.baseUrl,l=n.limit,s=n.rating,u=n.lang,c=this.state.query,o="".concat(i,"?api_key=").concat(r,"&q=").concat(c,"&limit=").concat(l,"&offset=0&rating=").concat(s,"&lang=").concat(u);fetch(o).then((function(e){if(e.status>=200&&e.status<=299)return e.json();throw Error(e.statusText)})).then((function(e){var n=e.data.map((function(e){return{id:e.id,username:e.username}}));a.setState({images:n,executedQuery:c,query:"",queryError:t})})).catch((function(e){console.log(e),t="There was a problem with your query. Please try again.",a.setState({executedQuery:c,query:"",queryError:t})}))}}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(g,{handleInput:this.handleInput,handleSubmit:this.handleSubmit,inputValue:this.state.query}),r.a.createElement(p,{handleLimitChange:this.handleLimitChange,handleLangChange:this.handleLangChange,handleRatingChange:this.handleRatingChange}),r.a.createElement("section",null,r.a.createElement(d,{images:this.state.images,executedQuery:this.state.executedQuery,error:this.state.queryError,usernameQuery:this.state.usernameQuery,handleUsernameClick:this.handleUsernameClick}),r.a.createElement(y,{api:this.state.api,usernameQuery:this.state.usernameQuery,handleUsernameResetClick:this.handleUsernameResetClick})))}}]),a}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[9,1,2]]]);
//# sourceMappingURL=main.50e55171.chunk.js.map